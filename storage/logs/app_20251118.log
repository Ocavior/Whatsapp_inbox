{"timestamp": "2025-11-18T07:13:03.184593", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\ude80 WhatsApp Business API starting up...", "module": "main", "function": "lifespan", "line": 17}
{"timestamp": "2025-11-18T07:13:03.981499", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Database connected successfully", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-11-18T07:13:08.940951", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udc4b WhatsApp Business API shutting down...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-11-18T07:23:27.063759", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\ude80 WhatsApp Business API starting up...", "module": "main", "function": "lifespan", "line": 17}
{"timestamp": "2025-11-18T07:23:28.000442", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Database connected successfully", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-11-18T07:23:32.809897", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udc4b WhatsApp Business API shutting down...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-11-18T09:05:58.716970", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\ude80 WhatsApp Business API starting up...", "module": "main", "function": "lifespan", "line": 17}
{"timestamp": "2025-11-18T09:05:59.675830", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Database connected successfully", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-11-18T09:06:20.910553", "level": "WARNING", "logger": "whatsapp_business", "message": "Missing signature or app secret for validation", "module": "whatsapp", "function": "validate_webhook_signature", "line": 227}
{"timestamp": "2025-11-18T09:06:20.910553", "level": "ERROR", "logger": "whatsapp_business", "message": "Webhook processing error: Expecting value: line 1 column 1 (char 0)", "module": "webhook", "function": "receive_webhook", "line": 70, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\app\\routes\\webhook.py\", line 47, in receive_webhook\n    body = await request.json()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\requests.py\", line 251, in json\n    self._json = json.loads(body)\n                 ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-11-18T09:27:32.173988", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\ude80 WhatsApp Business API starting up...", "module": "main", "function": "lifespan", "line": 17}
{"timestamp": "2025-11-18T09:27:33.040113", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Database connected successfully", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-11-18T09:27:50.898685", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verification attempt - Mode: None", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:27:50.899324", "level": "WARNING", "logger": "whatsapp_business", "message": "Webhook verification failed", "module": "webhook", "function": "verify_webhook", "line": 28}
{"timestamp": "2025-11-18T09:29:18.924045", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verification attempt - Mode: None", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:29:18.924045", "level": "WARNING", "logger": "whatsapp_business", "message": "Webhook verification failed", "module": "webhook", "function": "verify_webhook", "line": 28}
{"timestamp": "2025-11-18T09:30:10.733593", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verification attempt - Mode: subscribe", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:30:10.733593", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verified successfully", "module": "webhook", "function": "verify_webhook", "line": 25}
{"timestamp": "2025-11-18T09:30:10.737909", "level": "ERROR", "logger": "whatsapp_business", "message": "Unhandled error: invalid literal for int() with base 10: 'test123'", "module": "main", "function": "general_exception_handler", "line": 68, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\app\\routes\\webhook.py\", line 26, in verify_webhook\n    return int(challenge)\n           ^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: 'test123'"}
{"timestamp": "2025-11-18T09:30:16.921843", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verification attempt - Mode: subscribe", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:30:16.921843", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verified successfully", "module": "webhook", "function": "verify_webhook", "line": 25}
{"timestamp": "2025-11-18T09:30:16.923850", "level": "ERROR", "logger": "whatsapp_business", "message": "Unhandled error: invalid literal for int() with base 10: 'test123'", "module": "main", "function": "general_exception_handler", "line": 68, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\app\\routes\\webhook.py\", line 26, in verify_webhook\n    return int(challenge)\n           ^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: 'test123'"}
{"timestamp": "2025-11-18T09:30:30.201830", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verification attempt - Mode: subscribe", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:30:30.201830", "level": "INFO", "logger": "whatsapp_business", "message": "Webhook verified successfully", "module": "webhook", "function": "verify_webhook", "line": 25}
{"timestamp": "2025-11-18T09:30:30.201830", "level": "ERROR", "logger": "whatsapp_business", "message": "Unhandled error: invalid literal for int() with base 10: 'test123'", "module": "main", "function": "general_exception_handler", "line": 68, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\app\\routes\\webhook.py\", line 26, in verify_webhook\n    return int(challenge)\n           ^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: 'test123'"}
{"timestamp": "2025-11-18T09:35:12.810751", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udc4b WhatsApp Business API shutting down...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-11-18T09:35:16.395060", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\ude80 WhatsApp Business API starting up...", "module": "main", "function": "lifespan", "line": 17}
{"timestamp": "2025-11-18T09:35:17.419295", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Database connected successfully", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-11-18T09:35:26.932972", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udd0d Webhook verification attempt:", "module": "webhook", "function": "verify_webhook", "line": 20}
{"timestamp": "2025-11-18T09:35:26.935463", "level": "INFO", "logger": "whatsapp_business", "message": "  - Mode: subscribe", "module": "webhook", "function": "verify_webhook", "line": 21}
{"timestamp": "2025-11-18T09:35:26.935463", "level": "INFO", "logger": "whatsapp_business", "message": "  - Token received: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:35:26.935463", "level": "INFO", "logger": "whatsapp_business", "message": "  - Challenge: test123", "module": "webhook", "function": "verify_webhook", "line": 23}
{"timestamp": "2025-11-18T09:35:26.935463", "level": "INFO", "logger": "whatsapp_business", "message": "  - Expected token: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 24}
{"timestamp": "2025-11-18T09:35:26.935463", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Webhook verified successfully!", "module": "webhook", "function": "verify_webhook", "line": 28}
{"timestamp": "2025-11-18T09:35:26.938196", "level": "ERROR", "logger": "whatsapp_business", "message": "Unhandled error: invalid literal for int() with base 10: 'test123'", "module": "main", "function": "general_exception_handler", "line": 68, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\app\\routes\\webhook.py\", line 30, in verify_webhook\n    return int(challenge) if challenge else 0\n           ^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: 'test123'"}
{"timestamp": "2025-11-18T09:35:47.205493", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udd0d Webhook verification attempt:", "module": "webhook", "function": "verify_webhook", "line": 20}
{"timestamp": "2025-11-18T09:35:47.206117", "level": "INFO", "logger": "whatsapp_business", "message": "  - Mode: None", "module": "webhook", "function": "verify_webhook", "line": 21}
{"timestamp": "2025-11-18T09:35:47.206117", "level": "INFO", "logger": "whatsapp_business", "message": "  - Token received: None", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:35:47.206117", "level": "INFO", "logger": "whatsapp_business", "message": "  - Challenge: None", "module": "webhook", "function": "verify_webhook", "line": 23}
{"timestamp": "2025-11-18T09:35:47.206878", "level": "INFO", "logger": "whatsapp_business", "message": "  - Expected token: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 24}
{"timestamp": "2025-11-18T09:35:47.215487", "level": "WARNING", "logger": "whatsapp_business", "message": "\u274c Webhook verification failed!", "module": "webhook", "function": "verify_webhook", "line": 33}
{"timestamp": "2025-11-18T09:35:47.217376", "level": "WARNING", "logger": "whatsapp_business", "message": "  - Mode match: False", "module": "webhook", "function": "verify_webhook", "line": 34}
{"timestamp": "2025-11-18T09:35:47.218383", "level": "WARNING", "logger": "whatsapp_business", "message": "  - Token match: False", "module": "webhook", "function": "verify_webhook", "line": 35}
{"timestamp": "2025-11-18T09:54:58.938001", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udc4b WhatsApp Business API shutting down...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-11-18T09:55:02.549211", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\ude80 WhatsApp Business API starting up...", "module": "main", "function": "lifespan", "line": 17}
{"timestamp": "2025-11-18T09:55:03.679731", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Database connected successfully", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udd0d Webhook verification attempt:", "module": "webhook", "function": "verify_webhook", "line": 20}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "INFO", "logger": "whatsapp_business", "message": "  - Mode: None", "module": "webhook", "function": "verify_webhook", "line": 21}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "INFO", "logger": "whatsapp_business", "message": "  - Token received: None", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "INFO", "logger": "whatsapp_business", "message": "  - Challenge: None", "module": "webhook", "function": "verify_webhook", "line": 23}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "INFO", "logger": "whatsapp_business", "message": "  - Expected token: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 24}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "WARNING", "logger": "whatsapp_business", "message": "\u274c Webhook verification failed!", "module": "webhook", "function": "verify_webhook", "line": 33}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "WARNING", "logger": "whatsapp_business", "message": "  - Mode match: False", "module": "webhook", "function": "verify_webhook", "line": 34}
{"timestamp": "2025-11-18T09:58:46.671157", "level": "WARNING", "logger": "whatsapp_business", "message": "  - Token match: False", "module": "webhook", "function": "verify_webhook", "line": 35}
{"timestamp": "2025-11-18T10:01:54.863184", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udd0d Webhook verification attempt:", "module": "webhook", "function": "verify_webhook", "line": 20}
{"timestamp": "2025-11-18T10:01:54.863184", "level": "INFO", "logger": "whatsapp_business", "message": "  - Mode: subscribe", "module": "webhook", "function": "verify_webhook", "line": 21}
{"timestamp": "2025-11-18T10:01:54.863184", "level": "INFO", "logger": "whatsapp_business", "message": "  - Token received: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T10:01:54.863184", "level": "INFO", "logger": "whatsapp_business", "message": "  - Challenge: test123", "module": "webhook", "function": "verify_webhook", "line": 23}
{"timestamp": "2025-11-18T10:01:54.863184", "level": "INFO", "logger": "whatsapp_business", "message": "  - Expected token: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 24}
{"timestamp": "2025-11-18T10:01:54.863184", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Webhook verified successfully!", "module": "webhook", "function": "verify_webhook", "line": 28}
{"timestamp": "2025-11-18T10:01:54.872304", "level": "ERROR", "logger": "whatsapp_business", "message": "Unhandled error: invalid literal for int() with base 10: 'test123'", "module": "main", "function": "general_exception_handler", "line": 68, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\app\\routes\\webhook.py\", line 30, in verify_webhook\n    return int(challenge) if challenge else 0\n           ^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: 'test123'"}
{"timestamp": "2025-11-18T10:02:52.744615", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udd0d Webhook verification attempt:", "module": "webhook", "function": "verify_webhook", "line": 20}
{"timestamp": "2025-11-18T10:02:52.744615", "level": "INFO", "logger": "whatsapp_business", "message": "  - Mode: subscribe", "module": "webhook", "function": "verify_webhook", "line": 21}
{"timestamp": "2025-11-18T10:02:52.744615", "level": "INFO", "logger": "whatsapp_business", "message": "  - Token received: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T10:02:52.744615", "level": "INFO", "logger": "whatsapp_business", "message": "  - Challenge: test123", "module": "webhook", "function": "verify_webhook", "line": 23}
{"timestamp": "2025-11-18T10:02:52.744615", "level": "INFO", "logger": "whatsapp_business", "message": "  - Expected token: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 24}
{"timestamp": "2025-11-18T10:02:52.747685", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Webhook verified successfully!", "module": "webhook", "function": "verify_webhook", "line": 28}
{"timestamp": "2025-11-18T10:02:52.747685", "level": "ERROR", "logger": "whatsapp_business", "message": "Unhandled error: invalid literal for int() with base 10: 'test123'", "module": "main", "function": "general_exception_handler", "line": 68, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\kumar\\OneDrive\\Desktop\\bulk_send\\app\\routes\\webhook.py\", line 30, in verify_webhook\n    return int(challenge) if challenge else 0\n           ^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: 'test123'"}
{"timestamp": "2025-11-18T10:05:14.472238", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udc4b WhatsApp Business API shutting down...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-11-18T10:09:09.525367", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\ude80 WhatsApp Business API starting up...", "module": "main", "function": "lifespan", "line": 17}
{"timestamp": "2025-11-18T10:09:10.276633", "level": "INFO", "logger": "whatsapp_business", "message": "\u2705 Database connected successfully", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-11-18T10:09:22.115991", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udd0d Webhook verification attempt:", "module": "webhook", "function": "verify_webhook", "line": 21}
{"timestamp": "2025-11-18T10:09:22.117998", "level": "INFO", "logger": "whatsapp_business", "message": "  - Mode: None", "module": "webhook", "function": "verify_webhook", "line": 22}
{"timestamp": "2025-11-18T10:09:22.117998", "level": "INFO", "logger": "whatsapp_business", "message": "  - Token received: None", "module": "webhook", "function": "verify_webhook", "line": 23}
{"timestamp": "2025-11-18T10:09:22.117998", "level": "INFO", "logger": "whatsapp_business", "message": "  - Challenge: None", "module": "webhook", "function": "verify_webhook", "line": 24}
{"timestamp": "2025-11-18T10:09:22.120005", "level": "INFO", "logger": "whatsapp_business", "message": "  - Expected token: 7bT7qz0q4QzVpUnVBby2KaeNF73UXagBGCmq8eI6Nmk", "module": "webhook", "function": "verify_webhook", "line": 25}
{"timestamp": "2025-11-18T10:10:01.912106", "level": "INFO", "logger": "whatsapp_business", "message": "\ud83d\udc4b WhatsApp Business API shutting down...", "module": "main", "function": "lifespan", "line": 34}
